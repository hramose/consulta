$(function(){function t(){window.navigator.geolocation.getCurrentPosition(n)}function n(t){$('input[name="lat"]').val(t.coords.latitude),$('input[name="lon"]').val(t.coords.longitude);var n=$('select[name="speciality"]').val();void 0===n||""!=n?$("form").submit():alert("Selecciona una especialidad")}var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};e.any()&&$(".box-create-appointment").hide(),$(".btn-geo").on("click",function(n){t()}),$(".callout button.close").on("click",function(t){$(this).parents(".callout").hide()});var a=$("select[name=province]"),i=$("select[name=canton]"),o=$("select[name=district]"),r=window.provincias,c=[],l=$("input[name=selectedCanton]").val(),s=$("input[name=selectedDistrict]").val();i.empty(),o.empty(),a.change(function(){var t=$(this);i.empty(),$.each(r,function(n,e){e.title==t.val()&&(i.append('<option value=""></option>'),$.each(e.cantones,function(t,n){var e=new Option(n.title,n.title);n.title==l&&(e.selected=!0),i.append(e),c.push(n)}),i.change())})}),i.change(function(){var t=$(this);o.empty(),$.each(c,function(n,e){e.title==t.val()&&(o.append('<option value=""></option>'),$.each(e.distritos,function(t,n){var e=new Option(n,n);n==s&&(e.selected=!0),o.append(e)}))})}),a.change(),$("#myModal").on("shown.bs.modal",function(t){var n=$(t.relatedTarget),e=n.attr("data-lat"),a=n.attr("data-lon"),i=n.attr("data-address");$(".share").jsSocials({shares:["email","twitter","facebook","googleplus","whatsapp"],url:"http://maps.google.com/?saddr=Current+Location&daddr="+e+","+a,text:i,showLabel:!1,showCount:!1,shareIn:"popup"})})});