{"version":3,"sources":["search.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search.min.js","sourcesContent":["$(function () {\r\n\r\n      var isMobile = {\r\n        Android: function() {\r\n            return navigator.userAgent.match(/Android/i);\r\n        },\r\n        BlackBerry: function() {\r\n            return navigator.userAgent.match(/BlackBerry/i);\r\n        },\r\n        iOS: function() {\r\n            return navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n        },\r\n        Opera: function() {\r\n            return navigator.userAgent.match(/Opera Mini/i);\r\n        },\r\n        Windows: function() {\r\n            return navigator.userAgent.match(/IEMobile/i);\r\n        },\r\n        any: function() {\r\n            return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\r\n        }\r\n    };\r\n\r\n     var $root = $('html, body');\r\n   \r\n$(window).on('load', function() {\r\n\r\n     \r\n        var href = '#no-more-tables';\r\n        \r\n        if (typeof($(href)) != 'undefined' && $(href).length > 0) {\r\n            var anchor = '';\r\n\r\n            if (href.indexOf(\"#\") != -1) {\r\n                anchor = href.substring(href.lastIndexOf(\"#\"));\r\n            }\r\n\r\n            if (anchor.length > 0) {\r\n                console.log($(anchor).offset().top);\r\n                console.log(anchor);\r\n                $root.animate({\r\n                    scrollTop: $(anchor).offset().top-80\r\n                }, 500, function() {\r\n                    window.location.hash = anchor;\r\n                });\r\n               \r\n            }\r\n        }\r\n   \r\n\r\n});\r\n\r\n  if( isMobile.any() ) {\r\n      $('.box-create-appointment').hide();\r\n       $('.breadcrumb').hide();\r\n      \r\n       \r\n    }else{\r\n      \r\n      //$('.box-search-filters').removeClass('collapsed-box');\r\n     \r\n    }\r\n\r\n   $(\".dropdown-toggle\").dropdown();\r\n    \r\n       // function obtainGeolocation(){\r\n       // //obtener la posición actual y llamar a la función  \"localitation\" cuando tiene éxito\r\n\r\n       //   window.navigator.geolocation.getCurrentPosition(localitation);\r\n       // }\r\n      //  function localitation(geo){\r\n       \r\n      // // En consola nos devuelve el Geoposition object con los datos nuestros\r\n          \r\n      //     $('input[name=\"lat\"]').val(geo.coords.latitude);\r\n      //     $('input[name=\"lon\"]').val(geo.coords.longitude);\r\n          \r\n      //     var speciality = $('select[name=\"speciality\"]').val();\r\n\r\n      //     if(speciality === undefined || speciality != '')\r\n      //       $('form').submit();\r\n      //     else\r\n      //     {\r\n      //       alert('Selecciona una especialidad');\r\n\r\n      //     }\r\n      //  }\r\n       //llamando la funcion inicial para ver trabajar la API\r\n        function success(pos) {\r\n            var crd = pos.coords;\r\n\r\n            console.log('Your current position is:');\r\n            console.log(`Latitude : ${crd.latitude}`);\r\n            console.log(`Longitude: ${crd.longitude}`);\r\n            console.log(`More or less ${crd.accuracy} meters.`);\r\n            $('input[name=\"lat\"]').val(crd.latitude);\r\n            $('input[name=\"lon\"]').val(crd.longitude);\r\n            \r\n            var speciality = $('select[name=\"speciality\"]').val();\r\n\r\n            if(speciality === undefined || speciality != '' && $('input[name=\"lat\"]').val() && $('input[name=\"lon\"]').val()){\r\n              $('.btn-search').click();\r\n             // $('form').submit();\r\n            }else\r\n            {\r\n              alert('Selecciona una especialidad');\r\n\r\n            }\r\n          };\r\n\r\n          function error(err) {\r\n            console.warn(`ERROR(${err.code}): ${err.message}`);\r\n          };\r\n\r\n       $('.btn-geo').on('click', function (e) {\r\n            var options = {\r\n            enableHighAccuracy: true,\r\n            timeout: 5000,\r\n            maximumAge: 0\r\n          };\r\n\r\n          window.navigator.geolocation.getCurrentPosition(success, error, options);\r\n\r\n         });\r\n      $('.callout button.close').on('click', function (e) {\r\n           $(this).parents('.callout').hide();\r\n       });\r\n       \r\n\r\n\r\n        // provincias cantones y distritos\r\n         \r\n        var selectProvincias = $('select[name=province]'),\r\n        selectCantones = $('select[name=canton]'),\r\n        selectDistritos = $('select[name=district]'),\r\n        ubicaciones = window.provincias,\r\n        cantonesOfselectedProvince = [],\r\n        selectedCanton = $('input[name=selectedCanton]').val(),\r\n        selectedDistrict = $('input[name=selectedDistrict]').val();\r\n        \r\n        selectCantones.empty();\r\n        selectDistritos.empty();\r\n\r\n  \r\n        selectProvincias.change(function() {\r\n          \r\n            var $this =  $(this);\r\n            selectCantones.empty();\r\n       \r\n            $.each(ubicaciones, function(index,provincia) {\r\n\r\n                if(provincia.title == $this.val()){\r\n                       selectCantones.append('<option value=\"\"></option>');\r\n                      $.each(provincia.cantones, function(index,canton) {\r\n                        \r\n                         // cantones.append('<option value=\"' + canton.title + '\">' + canton.title + '</option>');\r\n\r\n                          var o = new Option(canton.title, canton.title);\r\n                          \r\n                          if(canton.title == selectedCanton)      \r\n                            o.selected=true;\r\n\r\n                          selectCantones.append(o);\r\n\r\n                          cantonesOfselectedProvince.push(canton);\r\n                      });\r\n                      \r\n                      selectCantones.change();\r\n                  }\r\n            });\r\n\r\n        });\r\n\r\n        selectCantones.change(function() {\r\n          \r\n            var $this =  $(this);\r\n            selectDistritos.empty();\r\n            //cantones.append('<option value=\"Todos\">Todos</option>');\r\n            $.each(cantonesOfselectedProvince, function(index,canton) {\r\n                \r\n                if(canton.title == $this.val()){\r\n                      selectDistritos.append('<option value=\"\"></option>');\r\n                      $.each(canton.distritos, function(index,distrito) {\r\n\r\n                          //distritos.append('<option value=\"' + distrito + '\">' + distrito + '</option>');\r\n                          var o = new Option(distrito, distrito);\r\n                          \r\n                          if(distrito == selectedDistrict)      \r\n                            o.selected=true;\r\n\r\n                          selectDistritos.append(o);\r\n                      });\r\n                  }\r\n            });\r\n\r\n        });\r\n\r\n      \r\n      selectProvincias.change();\r\n      /*setTimeout(function(){\r\n             \r\n             selectProvincias.change();\r\n\r\n          }, 100);*/\r\n\r\n\r\n\r\n\r\n     $('#myModal').on('shown.bs.modal', function (event) {\r\n          \r\n          var button = $(event.relatedTarget)\r\n          var lat = button.attr('data-lat');\r\n          var lon = button.attr('data-lon');\r\n          var address = button.attr('data-address');\r\n          var redes = [\"email\", \"twitter\", \"facebook\", \"googleplus\", \"whatsapp\"];\r\n\r\n          if( !isMobile.any() ) {\r\n              redes = [\"email\", \"twitter\", \"facebook\", \"googleplus\"];\r\n          }\r\n      \r\n        $(\".share\").jsSocials({\r\n            shares: redes,\r\n            url: \"http://maps.google.com/?saddr=Current+Location&daddr=\"+lat +\",\" + lon,\r\n            text: address,\r\n            showLabel: false,\r\n            showCount: false,\r\n            shareIn: \"popup\",\r\n           \r\n        });\r\n          \r\n        \r\n     \r\n       \r\n      });\r\n\r\n     $('#locationModal').on('shown.bs.modal', function (event) {\r\n          //debugger\r\n          var button = $(event.relatedTarget)\r\n          var lat = button.attr('data-lat');\r\n          var lon = button.attr('data-lon');\r\n          var phone = button.attr('data-phone');\r\n        \r\n          \r\n          if(phone)\r\n          {\r\n\r\n            $(this).find('.modal-body').html('Llamar: <a href=\"tel:'+ phone +'\" title=\"Llamar a este número\">'+ phone +'</a>');\r\n            $(this).find('.modal-title').html('Número de teléfono de contacto');\r\n\r\n          }else{\r\n\r\n              if(!lat || !lon)\r\n              {\r\n\r\n                $(this).find('.modal-body').html('<p>No se puede abrir ninguna direccion por que el consultorio no tiene registrado su latitud o longitud</p>');\r\n\r\n              }else{\r\n\r\n                $(this).find('.modal-body').append('<a href=\"waze://?ll='+ lat +','+ lon +'&amp;navigate=yes\"  target=\"_blank\" class=\"btn btn btn-app\"><i class=\"fa fa-map-marker\"></i> <strong>Abrir en Waze</strong></a><a href=\"http://maps.google.com/?saddr=Current+Location&daddr='+ lat +','+ lon + '\" target=\"_blank\" class=\"btn btn btn-app\"><i class=\"fa fa-map-marker\"></i> <strong>Abrir en Google Maps</strong></a>');\r\n              }\r\n        }\r\n          \r\n        \r\n     \r\n       \r\n      });\r\n\r\n\r\n\r\n    });"]}