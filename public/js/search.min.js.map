{"version":3,"sources":["search.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search.min.js","sourcesContent":["$(function () {\r\n    \r\n      function obtainGeolocation(){\r\n       //obtener la posición actual y llamar a la función  \"localitation\" cuando tiene éxito\r\n       window.navigator.geolocation.getCurrentPosition(localitation);\r\n       }\r\n       function localitation(geo){\r\n       \r\n      // En consola nos devuelve el Geoposition object con los datos nuestros\r\n          \r\n          $('input[name=\"lat\"]').val(geo.coords.latitude);\r\n          $('input[name=\"lon\"]').val(geo.coords.longitude);\r\n          \r\n          var speciality = $('select[name=\"speciality\"]').val();\r\n\r\n          if(speciality === undefined || speciality != '')\r\n            $('form').submit();\r\n          else\r\n          {\r\n            alert('Selecciona una especialidad');\r\n\r\n          }\r\n       }\r\n       //llamando la funcion inicial para ver trabajar la API\r\n       \r\n\r\n       $('.btn-geo').on('click', function (e) {\r\n           obtainGeolocation();\r\n       });\r\n\r\n\r\n        // provincias cantones y distritos\r\n         \r\n        var selectProvincias = $('select[name=province]'),\r\n        selectCantones = $('select[name=canton]'),\r\n        selectDistritos = $('select[name=district]'),\r\n        ubicaciones = window.provincias,\r\n        cantonesOfselectedProvince = [],\r\n        selectedCanton = $('input[name=selectedCanton]').val(),\r\n        selectedDistrict = $('input[name=selectedDistrict]').val();\r\n        \r\n        selectCantones.empty();\r\n        selectDistritos.empty();\r\n\r\n  \r\n        selectProvincias.change(function() {\r\n          \r\n            var $this =  $(this);\r\n            selectCantones.empty();\r\n       \r\n            $.each(ubicaciones, function(index,provincia) {\r\n\r\n                if(provincia.title == $this.val()){\r\n                       selectCantones.append('<option value=\"\"></option>');\r\n                      $.each(provincia.cantones, function(index,canton) {\r\n                        \r\n                         // cantones.append('<option value=\"' + canton.title + '\">' + canton.title + '</option>');\r\n\r\n                          var o = new Option(canton.title, canton.title);\r\n                          \r\n                          if(canton.title == selectedCanton)      \r\n                            o.selected=true;\r\n\r\n                          selectCantones.append(o);\r\n\r\n                          cantonesOfselectedProvince.push(canton);\r\n                      });\r\n                      \r\n                      selectCantones.change();\r\n                  }\r\n            });\r\n\r\n        });\r\n\r\n        selectCantones.change(function() {\r\n          \r\n            var $this =  $(this);\r\n            selectDistritos.empty();\r\n            //cantones.append('<option value=\"Todos\">Todos</option>');\r\n            $.each(cantonesOfselectedProvince, function(index,canton) {\r\n                \r\n                if(canton.title == $this.val()){\r\n                      selectDistritos.append('<option value=\"\"></option>');\r\n                      $.each(canton.distritos, function(index,distrito) {\r\n\r\n                          //distritos.append('<option value=\"' + distrito + '\">' + distrito + '</option>');\r\n                          var o = new Option(distrito, distrito);\r\n                          \r\n                          if(distrito == selectedDistrict)      \r\n                            o.selected=true;\r\n\r\n                          selectDistritos.append(o);\r\n                      });\r\n                  }\r\n            });\r\n\r\n        });\r\n\r\n      \r\n      selectProvincias.change();\r\n      /*setTimeout(function(){\r\n             \r\n             selectProvincias.change();\r\n\r\n          }, 100);*/\r\n\r\n\r\n\r\n\r\n     $('#myModal').on('shown.bs.modal', function (event) {\r\n          \r\n          var button = $(event.relatedTarget)\r\n          var lat = button.attr('data-lat');\r\n          var lon = button.attr('data-lon');\r\n          var address = button.attr('data-address');\r\n              \r\n      \r\n        $(\".share\").jsSocials({\r\n            shares: [\"email\", \"twitter\", \"facebook\", \"googleplus\", \"whatsapp\"],\r\n            url: \"http://maps.google.com/?saddr=Current+Location&daddr=\"+lat +\",\" + lon,\r\n            text: address,\r\n            showLabel: false,\r\n            showCount: false,\r\n            shareIn: \"popup\",\r\n           \r\n        });\r\n          \r\n        \r\n     \r\n       \r\n      });\r\n\r\n\r\n\r\n    });"]}