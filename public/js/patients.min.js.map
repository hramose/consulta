{"version":3,"sources":["patients.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"patients.min.js","sourcesContent":["$(function () {\r\n\r\n\t$(\"[data-mask]\").inputmask();\r\n\r\n     $(\"#UploadPhoto\").ajaxUpload({\r\n      url : $(\"#UploadPhoto\").data('url'),\r\n      name: \"photo\",\r\n      data: {patient_id: {{ $patient->id }} },\r\n      onSubmit: function() {\r\n          $('#infoBox').html('Uploading ... ');\r\n\r\n      },\r\n      onComplete: function(result) {\r\n\r\n          if(result ==='error'){\r\n\r\n          \t$('#infoBox').addClass('alert-danger').html('Error al subir archivo. Tipo no permitido!!').show();\r\n\t\t          setTimeout(function()\r\n\t\t          { \r\n\t\t          \t$('#infoBox').removeClass('alert-danger').hide();\r\n\t\t          },3000);\r\n\r\n\t\t     return\r\n\r\n          }\r\n\r\n          $('#infoBox').addClass('alert-success').html('La foto se ha guardado con exito!!').show();\r\n\t          setTimeout(function()\r\n\t          { \r\n\t          \t$('#infoBox').removeClass('alert-success').hide();\r\n\t          },3000);\r\n\t\t\t\td = new Date();\r\n\t\t\t\t\r\n\t          $('.profile-user-img').attr('src','/storage/'+ result+'?'+d.getTime());\r\n\t\t\t\r\n      }\r\n  });\r\n\r\n    $(\"#UploadFile\").ajaxUpload({\r\n      url : \"/patients/files\",\r\n      name: \"file\",\r\n      data: {patient_id: {{ $patient->id }} },\r\n      onSubmit: function() {\r\n          $('#infoBox').html('Uploading ... ');\r\n\r\n      },\r\n      onComplete: function(result) {\r\n\r\n          if(result ==='error'){\r\n\r\n          \t$('#infoBox').addClass('alert-danger').html('Error al subir archivo. Tipo no permitido!!').show();\r\n\t\t          setTimeout(function()\r\n\t\t          { \r\n\t\t          \t$('#infoBox').removeClass('alert-danger').hide();\r\n\t\t          },3000);\r\n\r\n\t\t     return\r\n\r\n          }\r\n\r\n          $('#infoBox').addClass('alert-success').html('El Archivo se ha guardado con exito!!').show();\r\n\t          setTimeout(function()\r\n\t          { \r\n\t          \t$('#infoBox').removeClass('alert-success').hide();\r\n\t          },3000);\r\n\t\t\t\r\n\t\t\r\n          var li = \"<li><a href='/storage/\"+ result +\"'' title='\"+ result.split(\"/\")[3]+ \"' target='_blank'><span class='text'>\"+ result.split(\"/\")[3] +\"</span></a>\"+\r\n          \"<div class='tools'>\"+\r\n            \"<i class='fa fa-trash-o delete' data-file='\"+result+\"'></i>\"+\r\n          \"</div></li>\";\r\n\r\n          $('#files-list').append(li);\r\n\r\n          $('#files-list').find('li').find('.delete').on('click',deleteFile);\r\n\r\n         \r\n\r\n\r\n      }\r\n  });\r\n     $('#files-list').find('li').find('.delete').on('click',deleteFile);\r\n\r\n    function deleteFile()\r\n    {\r\n        var btn_delete = $(this),\r\n            url = \"/patients/files/delete\";\r\n\r\n        $.post(url,{file: btn_delete.attr(\"data-file\") }, function(data){\r\n            btn_delete.parents('li').fadeOut(\"slow\");\r\n        });\r\n    }\r\n\r\n\r\n\r\n});"]}