$(function(){function t(){window.navigator.geolocation.getCurrentPosition(e)}function e(t){$('input[name="lat"]').val(t.coords.latitude),$('input[name="lon"]').val(t.coords.longitude);var e=$('select[name="speciality"]').val();void 0===e||""!=e?$("form").submit():alert("Selecciona una especialidad")}$(".btn-geo").on("click",function(e){t()});var a=$("select[name=province]"),n=$("select[name=canton]"),o=$("select[name=district]"),i=window.provincias,c=[],l=$("input[name=selectedCanton]").val(),s=$("input[name=selectedDistrict]").val();n.empty(),o.empty(),a.change(function(){var t=$(this);n.empty(),$.each(i,function(e,a){a.title==t.val()&&(n.append('<option value=""></option>'),$.each(a.cantones,function(t,e){var a=new Option(e.title,e.title);e.title==l&&(a.selected=!0),n.append(a),c.push(e)}),n.change())})}),n.change(function(){var t=$(this);o.empty(),$.each(c,function(e,a){a.title==t.val()&&(o.append('<option value=""></option>'),$.each(a.distritos,function(t,e){var a=new Option(e,e);e==s&&(a.selected=!0),o.append(a)}))})}),a.change(),$("#myModal").on("shown.bs.modal",function(t){var e=$(t.relatedTarget),a=e.attr("data-lat"),n=e.attr("data-lon"),o=e.attr("data-address");$(".share").jsSocials({shares:["email","twitter","facebook","googleplus","whatsapp"],url:"http://maps.google.com/?saddr=Current+Location&daddr="+a+","+n,text:o,showLabel:!1,showCount:!1,shareIn:"popup"})})});